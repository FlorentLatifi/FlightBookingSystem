# ğŸš€ SETUP GUIDE - Flight Booking System

## ğŸ“‹ KÃ‹RKESAT E SISTEMIT

PÃ«r tÃ« ekzekutuar projektin, ju nevojiten:

- **Visual Studio 2022** (Community, Professional ose Enterprise)
- **.NET SDK 8.0** - [Download](https://dotnet.microsoft.com/download/dotnet/8.0)
- **SQL Server LocalDB** (vjen me Visual Studio)
- **Git** (opsionale, pÃ«r clone) - [Download](https://git-scm.com/)

---

## âš™ï¸ HAPAT E INSTALIMIT

### HAPI 1: KLONO PROJEKTIN

```bash
git clone [URL e projektit]
cd FlightBookingSystem
```

OSE shkarkoje projektin si ZIP dhe extract-o.

---

### HAPI 2: HAP NÃ‹ VISUAL STUDIO

1. Hap **Visual Studio 2022**
2. Kliko **Open a project or solution**
3. Navigate te folder dhe selekto `FlightBookingSystem.sln`
4. Prit qÃ« NuGet packages tÃ« restoring automatically

---

### HAPI 3: KONFIGURO DATABASÃ‹N

#### Opsioni A: PÃ«rdor Connection String Ekzistuese (REKOMANDUAR)

Projekti tashmÃ« ka njÃ« connection string tÃ« konfiguruar nÃ« `appsettings.json`:

```json
{
  "ConnectionStrings": {
    "DefaultConnection": "Server=(localdb)\\mssqllocaldb;Database=FlightBookingDb;Trusted_Connection=true;TrustServerCertificate=true;MultipleActiveResultSets=true"
  }
}
```

Kjo do tÃ« funksionojÃ« **automatically** nÃ«se keni LocalDB tÃ« instaluar.

#### Opsioni B: Ndrysho Connection String (nÃ«se nevojitet)

NÃ«se dÃ«shironi tÃ« pÃ«rdorni SQL Server tjetÃ«r:

1. Hap `FlightBooking.Web/appsettings.json`
2. Ndrysho `ConnectionStrings:DefaultConnection`
3. Shembull pÃ«r SQL Server Express:

```json
"Server=localhost\\SQLEXPRESS;Database=FlightBookingDb;Trusted_Connection=true;TrustServerCertificate=true"
```

---

### HAPI 4: APLIKO MIGRATIONS (KRIJO DATABASÃ‹N)

Projekti pÃ«rdor **Migrations** pÃ«r tÃ« krijuar database-in automatikisht.

#### MÃ«nyra 1: Automatike (nga Program.cs)

Thjesht ekzekuto projektin - `Program.cs` do tÃ« aplikojÃ« migrations automatikisht:

```csharp
context.Database.Migrate(); // Ky line nÃ« Program.cs
```

#### MÃ«nyra 2: Manual (nÃ«se preferon)

Hap **Package Manager Console** nÃ« Visual Studio dhe ekzekuto:

```powershell
# Set default project to Infrastructure
Update-Database
```

OSE pÃ«rdor **Developer Command Prompt**:

```bash
cd FlightBooking.Web
dotnet ef database update --project ../FlightBooking.Infrastructure
```

---

### HAPI 5: EKZEKUTO PROJEKTIN

1. Sigurohu qÃ« **FlightBooking.Web** Ã«shtÃ« startup project (bold nÃ« Solution Explorer)
2. Kliko **Run** (F5) ose **Debug** â†’ **Start Debugging**
3. Aplikacioni do tÃ« hapet nÃ« browser nÃ«:
   - `https://localhost:7035` (HTTPS)
   - `http://localhost:5228` (HTTP)

---

## âœ… VERIFIKIMI I INSTALIMIT

NÃ«se gjithÃ§ka funksionon saktÃ«, do tÃ« shohÃ«sh:

1. **Console Output:**
```
ğŸ”§ [Startup] Duke konfiguruar bazÃ«n e tÃ« dhÃ«nave...
âœ… [Startup] Baza e tÃ« dhÃ«nave u konfigurua!
ğŸ”§ [Startup] Duke regjistruar repositories...
âœ… [Startup] Repositories u regjistruan!
...
âœ… FLIGHT BOOKING SYSTEM - GATI!
```

2. **Browser:**
   - Home page me search form
   - Wizard progress bar nÃ« krye
   - System Insights panel nÃ« tÃ« djathtÃ« (click ikona)

3. **Database:**
   - Database `FlightBookingDb` e krijuar nÃ« LocalDB
   - Tables: Flights, Passengers, Reservations, Payments, etj.
   - Seed data: ~5 fluturime pÃ«r testim

---

## ğŸ§ª TESTIMI I FUNKSIONALITETEVE

### Test 1: Search Flights

1. Hap home page
2. Fut:
   - **From:** PRN
   - **To:** VIE
   - **Date:** nesÃ«r (ose Ã§do datÃ« nÃ« 30 ditÃ«t e ardhshme)
3. Kliko **Search Flights**
4. Duhet tÃ« shfaqen fluturime

### Test 2: Book Flight

1. Nga search results, kliko **Book Now** nÃ« njÃ« fluturim
2. Fut tÃ« dhÃ«nat e pasagjerit
3. Zgjidh seat class (Economy, Business, etc.)
4. Fut tÃ« dhÃ«nat e pagesÃ«s:
   - **Card Number:** `4242424242424242` (pÃ«r SUCCESS)
   - **Card Number:** `4242424242424243` (pÃ«r FAILURE)
   - CVV: 123
   - Expiry: 12/25
5. Kliko **Complete Booking**

### Test 3: View Bookings

1. Kliko **My Bookings** nÃ« navbar
2. Fut email qÃ« pÃ«rdore pÃ«r booking
3. Shiko listÃ«n e rezervimeve

### Test 4: Admin Panel

1. Kliko **Admin** â†’ **Dashboard**
2. Shiko statistikat
3. Navigate te **Manage Flights** dhe **Reservations**

---

## ğŸ› TROUBLESHOOTING

### Problem: "Database connection failed"

**Zgjidhja:**
```bash
# Verifiko qÃ« LocalDB Ã«shtÃ« duke u ekzekutuar
sqllocaldb info mssqllocaldb

# NÃ«se nuk ekziston, krijo:
sqllocaldb create mssqllocaldb
sqllocaldb start mssqllocaldb
```

### Problem: "Migration not found"

**Zgjidhja:**
```bash
# Re-apliko migrations
dotnet ef migrations add InitialCreate --project FlightBooking.Infrastructure --startup-project FlightBooking.Web
dotnet ef database update --project FlightBooking.Infrastructure --startup-project FlightBooking.Web
```

### Problem: "NuGet packages not restoring"

**Zgjidhja:**
1. Right-click solution â†’ **Restore NuGet Packages**
2. OSE nga Package Manager Console:
```powershell
Update-Package -reinstall
```

### Problem: "Port already in use"

**Zgjidhja:**
Ndrysho port-in nÃ« `launchSettings.json`:
```json
"applicationUrl": "https://localhost:7036;http://localhost:5229"
```

---

## ğŸ“‚ STRUKTURA E PROJEKTIT

```
FlightBookingSystem/
â”œâ”€â”€ FlightBooking.Domain/          # Domain Layer (Entities, Enums, Value Objects)
â”œâ”€â”€ FlightBooking.Application/     # Application Layer (Services, DTOs, Patterns)
â”œâ”€â”€ FlightBooking.Infrastructure/  # Infrastructure Layer (DbContext, Repositories)
â”œâ”€â”€ FlightBooking.Web/             # Presentation Layer (MVC Controllers, Views)
â””â”€â”€ FlightBookingSystem.sln        # Solution File
```

---

## ğŸ“§ KONTAKT PÃ‹R SUPPORT

NÃ«se has probleme gjatÃ« instalimit:

1. Kontrollo **Output** window nÃ« Visual Studio
2. Kontrollo **Package Manager Console** pÃ«r errors
3. Sigurohu qÃ« tÃ« gjitha dependencies janÃ« installed
4. Verify qÃ« .NET 8 SDK Ã«shtÃ« installed correctly

---

## ğŸ“ AKADEMIKE - DEMONSTRIMI

GjatÃ« prezantimit, trego:

1. **Architecture:** Onion Architecture me 4 layers
2. **Design Patterns:**
   - MVC Pattern (Controllers â†’ Services â†’ Repositories)
   - Repository Pattern (abstraction i data access)
   - Strategy Pattern (pricing calculations)
   - Observer Pattern (parallel notifications)
3. **Refactoring:** Trego ndryshimet nga "bad code" nÃ« "clean code"
4. **Parallel Processing:** Payment dhe notification nÃ« paralel
5. **System Insights Panel:** Real-time view tÃ« active patterns

---

**Sukses me projektin! ğŸš€**